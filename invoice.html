<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US" style="height: 100%;">
  <head>
    <title></title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <script type="text/javascript" src="model.js"></script>
  </head>
  <body style="height: 100%;">
  <div align="center" style="height: 1500px;">
    <div class="py-3 text-center" style="font-family: 'Tw Cen MT'">
      <img class="d-block mx-auto mb-4" src="img/icon.svg" alt="" style="width: 3rem;height: 3rem">
      <h1 class="masthead-brand">eVeg</h1>
    </div>
    <h1 style="font-family: monospace"><b>INVOICE</b></h1>
    <script>
      document.write('    <textarea readonly rows="45" cols="76" style="font-size: 18px; font-family: monospace;">\n');
      clientName = getName();
      document.write('\n       for ' + clientName['title'] + ' ' + clientName['firstname'] + ' ' + clientName['surname'] + '\n\n');
      address = getAddress();
      document.write('       ' + address['number'] + '\n');
      document.write('       ' + address['street'] + '\n');
      document.write('       ' + address['city'] + '\n');
      document.write('       ' + address['country'] + '\n');
      document.write('       ' + address['postcode'] + '\n\n');
      document.write('      ------------------------------------------------------------------------------\n\n');
      document.write('       DESCRIPTION                          PRICE                AMOUNT\n\n');
      basket = readBasket();
      productDetails = getProductDetails();

      for (var product in basket) {
        if (basket[product] > 0) {
          document.write('       ' + productDetails[product]["name"] + '   ' + productDetails[product]["units"] + ' x ' + basket[product] + '\n');
          document.write('                                            &pound;' + productDetails[product]["price"]
                  + '                &pound;' + productDetails[product]["price"] * basket[product] + '\n');
        }
      }
      document.write('      ------------------------------------------------------------------------------\n\n');
      document.write('       TOTAL\n');
      var totals = calculateTotals();
      document.write('             &pound;' + totals["total"] + ' inc. VAT\n');
      document.write('             &pound;' + totals["vat"] + ' ex. VAT\n');
      document.write('             &pound;' + totals["totalnovat"] + ' VAT paid\n\n');

      cardDetails = getCardDetails();
      document.write('         Paid by ' + cardDetails['cardtype'] + ' ************' + cardDetails['cardnumber'].substr(-4) + ' (only last four digits given)\n');
      var today = new Date();
      var yyyy = today.getFullYear();
      var MM = today.getMonth()+1;
      var dd = today.getDate();
      var hh=today.getHours();
      var mm=today.getMinutes();
      var ss=today.getSeconds();
      document.write('         ' + dd + '/' + MM + '/' + yyyy + '   ' + hh + ':' + mm + ':' + ss + '\n\n\n\n\n');
      document.write('                       Thank you for shopping at eVeg!')
      document.write('    </textarea>\n');
    </script>
  </div>

  <footer class="mt-auto text-muted">
    <div class="inner" style="font-family: 'Tw Cen MT'">
      <h2 style="margin: 0.0px 0.0px 14.9px 0.0px; text-align: center; line-height: 22.0px; font-size: 18.0px; color: #0f7001; -webkit-text-stroke: #0f7001"><span class="s1"><b>© 2020 InterVeg Coventry Ltd. <br>
Fresh produce from the Midland's green countryside.<span class="Apple-converted-space"> </span></b></span></h2>
      <p class="p3"><span class="s1"></span><br></p>
    </div>
  </footer>

  </body>
</html>
